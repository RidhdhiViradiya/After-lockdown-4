<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BasicLivings:Report</title>
    {% load static %}
	    <link rel="stylesheet" href='{% static "accounts/css/bootstrap.css" %}'>
		<link rel="stylesheet" href='{% static "accounts/icons/css/all.css" %}'>
	    <link rel="stylesheet" href='{% static "accounts/icons/css/material-icons.min.css" %}'>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
		<script src='{% static "accounts/js/jquery.js" %}'></script>
	    <script src='{% static "accounts/js/bootstrap.js" %}'></script>
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

    <script>
      tinymce.init({
    selector: '#myReport',
    plugins: [
      'advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker',
      'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking',
      'table emoticons template paste help'
    ],
    toolbar: 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | ' +
      'bullist numlist outdent indent | link image | print preview media fullpage | ' +
      'forecolor backcolor emoticons | help',
    menu: {
      favs: {title: 'My Favorites', items: 'code visualaid | searchreplace | spellchecker | emoticons'}
    },
    menubar: 'favs file edit view insert format tools table help',

  });
    </script>

    <style>
        #myReport {
            min-height: 90vh;
        }


    </style>
</head>
<body>
<div class="container" style="margin-top: 3rem;margin-bottom: 3rem;">

<div class="row" id="myReport">
    <div class="col-md-11 w-100 mx-auto">
        <h2 style="text-align: center"><img src='{% static "icons/logo.jpg" %}' width="10%" alt=""></h2>
        <table id="datas" class="table table-striped table-bordered" style="width:100%;border: 2px solid #2154A5;">

            {% if name == "user" %}
            <thead style="color: #2154A5;">
            <h1 style="text-align: center;color: #2154A5;">Users Report</h1>
            <tr>
                <th>Sr. No</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Address</th>
                <th>Date Joined</th>
            </tr>
            </thead>
            <tbody>
        {% for data in obj %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ data.get_full_name }}</td>
                <td>{{ data.get_email }}</td>
                <td>{{ data.get_phone }}</td>
                <td>{{ data.get_address }}</td>
                <td>{{ data.date_joined }}</td>
            </tr>
        {% endfor %}
        </tbody>

            {% elif name == "queries" %}
            <thead style="color: #2154A5;">
             <h1 style="text-align: center;color: #2154A5;">Public Queries Report</h1>
                <tr>
                    <th>Sr. No</th>
                    <th>Sender</th>
                    <th>Email</th>
                    <th>Subject</th>
                    <th>Message</th>
                    <th>Date Joined</th>
                </tr>
            </thead>
            <tbody>
        {% for data in obj %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ data.sender }}</td>
                <td>{{ data.email }}</td>
                <td>{{ data.subject }}</td>
                <td>{{ data.message }}</td>
                <td>{{ data.date_posted }}</td>
            </tr>
        {% endfor %}
        </tbody>

            {% elif name == "mess" %}
            <thead style="color: #2154A5;">
             <h1 style="text-align: center;color: #2154A5;">Mess Report</h1>
                <tr>
                    <th>Sr. No</th>
                    <th>Mess ID</th>
                    <th>Mess Name</th>
                    <th>User Name</th>
                    <th>Area</th>
                    <th>City</th>
                    <th>Date Posted</th>
                    <th>Expiry Date</th>
                </tr>
            </thead>
            <tbody>
        {% for data in obj %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ data.mess_id }}</td>
                <td>{{ data.mess_name }}</td>
                <td>{{ data.user_id.get_full_name }}</td>
                <td>{{ data.area.get_area_name }}</td>
                <td>{{ data.city.get_city_name }}</td>
                <td>{{ data.date_posted }}</td>
                <td>{{ data.exp_date }}</td>
            </tr>
        {% endfor %}
        </tbody>

            {% elif name == "rooms" %}
            <thead style="color: #2154A5;">
             <h1 style="text-align: center;color: #2154A5;">Rooms Report</h1>
                <tr>
                    <th>Sr. No</th>
                    <th>Room ID</th>
                    <th>Room Description</th>
                    <th>Total Beds</th>
                    <th>Vacant Beds</th>
                    <th>Rent per Bed</th>
                    <th>Deposit</th>
                    <th>Special Instruction</th>
                    <th>Amenities</th>
                    <th>Gender</th>
                    <th>Available From</th>
                    <th>Date Posted</th>
                    <th>Expiry Date</th>
                    <th>Area</th>
                </tr>
            </thead>
            <tbody>
        {% for data in obj %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ data.room_id }}</td>
                <td>{{ data.description }}</td>
                <td>{{ data.no_of_beds }}</td>
                <td>{{ data.vacant_beds }}</td>
                <td>{{ data.rent_per_bed }}</td>
                <td>{{ data.deposit }}</td>
                <td>{{ data.special_instruction }}</td>
                <td>{{ data.amenities }}</td>
                <td>{{ data.gender }}</td>
                <td>{{ data.available_from }}</td>
                <td>{{ data.date_posted }}</td>
                <td>{{ data.exp_date }}</td>
                <td>{{ data.area_id.area_name }}</td>
            </tr>
        {% endfor %}
        </tbody>

            {% elif name == "mbookings" %}
            <thead style="color: #2154A5;">
             <h1 style="text-align: center;color: #2154A5;">Mess Bookings Report</h1>
                <tr>
                    <th>Sr. No</th>
                    <th>Booking ID</th>
                    <th>Booking Date</th>
                    <th>Mess Name</th>
                    <th>Food Type Name</th>
                    <th>User Name</th>
                </tr>
            </thead>
            <tbody>
        {% for data in obj %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ data.booking_id }}</td>
                <td>{{ data.booking_date }}</td>
                <td>{{ data.mess_id.mess_name }}</td>
                <td>{{ data.food_id.title }}</td>
                <td>{{ data.user_id.get_full_name }}</td>
            </tr>
        {% endfor %}
        </tbody>

            {% elif name == "mpayments" %}
            <thead style="color: #2154A5;">
             <h1 style="text-align: center;color: #2154A5;">Mess Payments Report</h1>
                <tr>
                    <th>Sr. No</th>
                    <th>Payment ID</th>
                    <th>Order ID</th>
                    <th>Date of Payment</th>
                    <th>Mess Name</th>
                    <th>User Name</th>
                    <th>Package Description</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
        {% for data in obj %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ data.payment_id }}</td>
                <td>{{ data.order_id }}</td>
                <td>{{ data.date_of_payment }}</td>
                <td>{{ data.mess_id.mess_name }}</td>
                <td>{{ data.user_id.get_full_name }}</td>
                <td>{{ data.package_id.title }}</td>
                <td>{{ data.package_id.amount }}</td>
            </tr>
        {% endfor %}
        </tbody>

            {% elif name == "rbookings" %}
            <thead style="color: #2154A5;">
             <h1 style="text-align: center;color: #2154A5;">Room Bookings Report</h1>
                <tr>
                    <th>Sr. No</th>
                    <th>Booking ID</th>
                    <th>Booking Date</th>
                    <th>Room Description</th>
                    <th>User Name</th>
                </tr>
            </thead>
            <tbody>
        {% for data in obj %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ data.booking_id }}</td>
                <td>{{ data.booking_date }}</td>
                <td>{{ data.room_id.description }}</td>
                <td>{{ data.user_id.get_full_name }}</td>
            </tr>
        {% endfor %}
        </tbody>

            {% elif name == "rpayments" %}
            <thead style="color: #2154A5;">
             <h1 style="text-align: center;color: #2154A5;">Rooms Payments Report</h1>
                <tr>
                    <th>Sr. No</th>
                    <th>Payment ID</th>
                    <th>Order ID</th>
                    <th>Date of Payment</th>
                    <th>Room Description</th>
                    <th>User Name</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
        {% for data in obj %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ data.pay_id }}</td>
                <td>{{ data.order_id }}</td>
                <td>{{ data.date_of_payment }}</td>
                <td>{{ data.room_id.description }}</td>
                <td>{{ data.user_id.get_full_name }}</td>
                <td>{{ data.amount }}</td>
            </tr>
        {% endfor %}
        </tbody>

            {% endif %}

    </table>
    </div>
</div>

</div>


</body>

<script>
    $(document).ready(function() {
    $('#datas').DataTable();
} );

</script>

</html>